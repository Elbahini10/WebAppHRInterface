<div>
    <div class="row m-2">
        <div class="col">
            <h1 class="text">Remboursement Personnel</h1>
        </div>
    </div>
    <hr>
    <div class="row m-2">
        <div class="col" *ngIf="MsgError">
            <div class="alert alert-danger" *ngIf="MsgError">
                <p> {{MsgError}} </p>
            </div>
        </div>
        <div class="col" *ngIf="MsgValid">
            <div class="alert alert-success" *ngIf="MsgValid">
                <p> {{MsgValid}} </p>
            </div>
        </div>
    </div>
    <div class="row m-2">
        <div class="col-3 text-center">
            <div class="card">
                <div class="row m-2">
                    <div class="col">
                        <div class="input-group">
                            <label for="" class="input-group-text">Changer : </label>
                            <select #ChoseOption class="form-select" (change)="Func_Active_Desactive_Filtre()">
                                <option value="Employe">Employé</option>
                                <option value="All">Tout</option>
                            </select>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Filtre Employeur  -->
      <div class="row m-2">
        <form [formGroup]="FormsPersonnel" (change)="find_employer_by_forms_search()">
            <div class="col">
                <div class="card">
                    <div class="row m-2">
                        <div class="col" #Chose>
                            <div class="input-group">
                                <label for="" class="input-group-text">Département : </label>
                                <select required="true" formControlName="Mc" (change)="find_Services()"
                                    class="form-select" id="">
                                    <option *ngFor="let dep of Department" [value]="dep"> {{dep}} </option>
                                </select>
                            </div>
                        </div>
                        <div class="col" #Chose>
                            <div class="input-group">
                                <label for="" class="input-group-text">Service : </label>
                                <select required="true" formControlName="Mc2"
                                    (change)="find_employeur_by_fonction_departement()" class="form-select" id="">
                                    <option *ngFor="let serv of Services" [value]="serv"> {{serv}} </option>
                                </select>
                            </div>
                        </div>

                        <div class="col" #Chose>
                            <div class="input-group">
                                <label for="" class="input-group-text">Employeur : </label>
                                <select required="true" formControlName="Mc3" class="form-select" id="">
                                    <option *ngFor="let empl of employeur2" [value]="empl.id"> {{empl.firstname}}
                                        {{empl.lastname}} </option>
                                </select>
                            </div>
                        </div>
                        <div class="col">
                            <div class="input-group">
                                <label for="" class="input-group-text">Mois : </label>
                                <select formControlName="Months" class="form-select" id="">
                                    <option value="JANVIER">JANVIER</option>
                                    <option value="FÉVRIER">FÉVRIER</option>
                                    <option value="MARS">MARS</option>
                                    <option value="AVRIL">AVRIL</option>
                                    <option value="MAI">MAI</option>
                                    <option value="JUIN">JUIN</option>
                                    <option value="JUILLET">JUILLET</option>
                                    <option value="AOÛT">AOÛT</option>
                                    <option value="SEPTEMBRE">SEPTEMBRE</option>
                                    <option value="OCTOBRE">OCTOBRE</option>
                                    <option value="NOVEMBRE">NOVEMBRE</option>
                                    <option value="DÉCEMBRE">DÉCEMBRE</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div class="row m-2">
        <div class="col text-center">
            <div class="card">
                <div class="row m-2">
                    <div class="col">
                        <h1>REMBOURSEMENT MUTUELLE {{DestinationTypes2}} MOIS {{Months}} {{date.getFullYear()}} </h1>
                    </div>
                </div>
                <table class="table">
                    <thead class="table-dark">
                        <tr>
                            <th>L'ASSURE</th>
                            <th>MOIS</th>
                            <th>DÉSTINATION </th>
                            <th>DATE SOIN</th>
                            <th>MONTENT</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="!FullName">
                        <tr *ngFor="let res of Result">
                            <td *ngFor="let empl of employeur2"> {{empl.firstname}}
                                {{empl.lastname}} </td>
                            <!-- <td> {{res.employeur_id}} </td> -->
                            <td> {{Months}} </td>
                            <td> {{res.department}} </td>
                            <td> {{res.date_SOIN}} </td>
                            <td> {{res.montent1}} MAD</td>
                        </tr>
                        <tr class="table-warning">
                            <td> <b>Total : {{Total}} </b> </td>
                        </tr>
                    </tbody>
                    <tbody *ngIf="FullName">
                        <tr *ngFor="let res of Result">
                            <td *ngIf="FullName"> {{FullName}} </td>
                            <!-- <td> {{res.employeur_id}} </td> -->
                            <td> {{Months}} </td>
                            <td> {{res.department}} </td>
                            <td> {{res.date_SOIN}} </td>
                            <td> {{res.montent1}} MAD</td>
                        </tr>
                        <tr class="table-warning">
                            <td> <b>Total : {{Total}} </b> </td>
                        </tr>
                    </tbody>

                </table>
                
                <div class="card-footer text-start">
                    <div class="row">
                        <div class="col">
                            <button  class="btn btn-danger" >
                                <i class="bi bi-file-earmark-pdf"></i>
                                Imprimer</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>